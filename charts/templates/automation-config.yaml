apiVersion: v1
kind: ConfigMap
metadata:
  name: automation-config
  namespace: {{ .Values.automation.namespace }}
  labels: 
    app.kubernetes.io/component: config
    app.kubernetes.io/part-of: automation
    {{- include "charts.labels" . | nindent 4 }}
data:
  CHALLENGE_REGISTRY: {{ .Values.challenges.registry.url }}
  CHALLENGE_REGISTRY_PRIVATE: "{{- if eq .Values.challenges.registry.type "private" }}true{{- else }}false{{- end }}"
  CTF_NAME: {{ .Values.event.name }}
  PUBLIC_URL: {{ .Values.event.url }}
  EVENT_START: {{ .Values.event.startTime | quote }}
  EVENT_END: {{ .Values.event.endTime | quote }}
  POST_EVENT: {{ .Values.event.postEvent | quote }}
  RIPPER_WORKER_COUNT: {{ .Values.automation.ripper.workerCount | quote }}
